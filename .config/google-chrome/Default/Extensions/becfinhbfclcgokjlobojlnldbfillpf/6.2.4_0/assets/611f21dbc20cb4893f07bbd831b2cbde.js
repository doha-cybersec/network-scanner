import{d as _,a_ as g,J as r,aP as n,X as c,L as i,bc as e,bM as v,bJ as o,bA as d,bz as w,I as A,F as u,aY as C,G as D}from"./87a84c2cf7b4fda35bfcac0640ac264b.js";import{H as m}from"./7afd07c687eb49d39fd77bf78fe5ec25.js";import{c as L,d as U,A as O,a as f,b as I,_ as P,C as y}from"./8d303f94e93901152d11040290f309bc.js";import{P as S}from"./b7f39e5a9052c6d052ea076906fecc13.js";import"./2736eeee414806ef50a46b2dbb19ce49.js";import{A as p}from"./b6f1195743a79bb5e047efc45e4ec1a8.js";import"./9c387392fdc5bbcf7335d803b777bc34.js";import"./93c5775672b5704373697ce70541c884.js";import"./730ecdbe744cb4a1446d00cb2b3bdbb1.js";import"./ccb02b363d45d8a770185e0773c7b631.js";import"./0811d7a4c39e6078b59d515398ad441d.js";import"./dcea5b6683ffc6e329bf502a60c8c88d.js";import"./b266269d4bacae7ca70e8b4e8fa98e86.js";import"./35a4e9e5b03ce9f6b934005df8651842.js";import"./24f2f391bb30a906fed56b8bff743fcb.js";import"./4d8530bbbd6abd9246d7a47fdf83b94b.js";import"./c63a988018a19bb069147e542d0100cc.js";import"./a1f937a8f2e3868bc093764a98119575.js";import"./2aa242c5d59db38b285a255688e851e9.js";import"./1b8ead64d23fbbfcf48d4652332960c3.js";import"./75b49a1b196983c05948f45215119584.js";import"./4cfe72e6823fa90866abd661c90d1a61.js";import"./c90f206377370d0637b0d1ca16e84cd3.js";import"./85e6709c31dd87565e34195aad62877a.js";import"./ff1c62831b919e645c41cf9dce23d935.js";import"./7efee2cfaa139c0e5c25b42987b40778.js";import"./3b2640d687b5327271e57663b50c251b.js";import"./54e18790c5fc36d3ab2a9cee8314e668.js";import"./aabeb46aa265f5891225553a7beae8bb.js";const M=_({name:"AgentPublishDetails",extends:O,components:{AgentMarketplaceHeader:U,AgentMarketplaceFooter:L,PageHeaderWithBack:S},data:()=>({isLoading:!0,agentId:null,agentTitle:"",agentDescription:"",agentOverview:"",agentCategory:"Tools",briefDescription:"",agentCreditUsage:0,promoVideoUrl:"",uploadedIcon:null,uploadedScreenshots:[],uploadedAdditionalFiles:[],categoryOptions:[]}),async mounted(){await this.fetchCategories();const t=new URLSearchParams(window.location.search).get("id");t?(this.agentId=t,await this.fetchAgentDetails()):(console.error("Agent ID not found in URL query parameters (e.g., ?id=YOUR_AGENT_ID)."),this.isLoading=!1)},methods:{async fetchAgentDetails(){if(this.agentId){this.isLoading=!0;try{const t=await f.get(this.agentId);t?(console.log(t,"agentData"),this.agentTitle=t.title||"",this.agentDescription=t.detail||"",this.briefDescription=t.short_description||"",this.agentOverview=t.overview||"",this.agentCategory=t.category_id||"Tools",this.agentCreditUsage=t.credit_usage||0,this.agentShareType=t.share_type||"Private"):console.error("Agent data not found for ID:",this.agentId)}catch(t){console.error("Error fetching agent details:",t)}finally{this.isLoading=!1}}},async fetchCategories(){var t;this.isLoading=!0;try{const a=await I.search();this.categoryOptions=a||[],console.log(this.categoryOptions,"categoryOptions"),this.categoryOptions.length>0&&!this.categoryOptions.find((t=>t.title===this.agentCategory))||this.categoryOptions.length>0&&!this.agentCategory&&(this.agentCategory=null==(t=this.categoryOptions[0])?void 0:t.title)}catch(a){console.error("Error fetching categories:",a),this.categoryOptions=[]}finally{this.isLoading=!1}},async handleSubmit(){if(this.agentId)try{this.isLoading=!0;const t=await f.update(this.agentId,this.agentTitle,this.agentDescription,null,null,null,this.agentShareType,null,null,null,this.agentOverview,this.agentCategory,this.briefDescription)}catch(t){console.error("Error updating agent:",t)}finally{this.isLoading=!1}else console.error("Agent ID is missing, cannot update.")},handleIconChange(t){const a=t.target;a.files&&a.files[0]&&(this.uploadedIcon=a.files[0],console.log("Icon selected:",this.uploadedIcon))},handleScreenshotsChange(t){const a=t.target;a.files&&(this.uploadedScreenshots=Array.from(a.files),console.log("Screenshots selected:",this.uploadedScreenshots))},handleAdditionalFilesChange(t){const a=t.target;a.files&&(this.uploadedAdditionalFiles=Array.from(a.files),console.log("Additional files selected:",this.uploadedAdditionalFiles))},createObjectURL:t=>t instanceof File?URL.createObjectURL(t):""}}),V={class:"ait-block ait-overflow-y-auto ait-bg-gray-50 dark:ait-bg-[var(--ait-option-card-bg-color)] ait-text-gray-800 dark:ait-text-gray-200 ait-px-4 sm:ait-px-6 md:ait-px-8 lg:ait-px-12"},T={key:0,class:"ait-flex ait-justify-center ait-items-center ait-h-screen"},F={class:"ait-ml-4 ait-text-gray-600 dark:ait-text-gray-400"},B={key:1,class:"ait-container ait-mx-auto ait-px-0 sm:ait-px-4 md:ait-px-6 lg:ait-px-8 xl:ait-px-48 ait-py-4 sm:ait-py-6 ait-mt-4 sm:ait-mt-6"},H={class:"ait-border-b ait-border-gray-900/10 dark:ait-border-white/10 ait-pb-12"},j={class:"ait-text-base ait-font-semibold ait-leading-7 ait-text-gray-900 dark:ait-text-white"},q={class:"ait-mt-1 ait-text-sm ait-leading-6 ait-text-gray-600 dark:ait-text-gray-400"},z={class:"ait-mt-10 ait-grid ait-grid-cols-1 ait-gap-y-8 ait-gap-x-6 sm:ait-grid-cols-6"},E={class:"sm:ait-col-span-4"},R={for:"agent-title",class:"ait-block ait-text-sm ait-font-medium ait-leading-6 ait-text-gray-900 dark:ait-text-white"},N={class:"ait-mt-2"},G={class:"sm:ait-col-span-2"},W={class:"ait-mt-2"},$={key:0,disabled:"",value:""},J=["value"],Y={class:"sm:ait-col-span-full"},X={for:"agent-description",class:"ait-block ait-text-sm ait-font-medium ait-leading-6 ait-text-gray-900 dark:ait-text-white"},Z={class:"ait-mt-2"},K={class:"ait-mt-2 ait-text-sm ait-text-gray-600 dark:ait-text-gray-400"},Q={class:"sm:ait-col-span-full"},tt={for:"agent-overview",class:"ait-block ait-text-sm ait-font-medium ait-leading-6 ait-text-gray-900 dark:ait-text-white"},it={class:"ait-mt-2"},at={class:"sm:ait-col-span-full"},et={for:"agent-overview",class:"ait-block ait-text-sm ait-font-medium ait-leading-6 ait-text-gray-900 dark:ait-text-white"},st={class:"ait-mt-2"},ot={class:"ait-mt-2 ait-text-sm ait-text-gray-600 dark:ait-text-gray-400"},rt={class:"sm:ait-col-span-2"},nt={for:"agent-credit-usage",class:"ait-block ait-text-sm ait-font-medium ait-leading-6 ait-text-gray-900 dark:ait-text-white"},dt={class:"ait-mt-2"},lt={class:"ait-border-b ait-border-gray-900/10 dark:ait-border-white/10 ait-pb-12"},gt={class:"ait-text-base ait-font-semibold ait-leading-7 ait-text-gray-900 dark:ait-text-white"},ct={class:"ait-mt-1 ait-text-sm ait-leading-6 ait-text-gray-600 dark:ait-text-gray-400"},pt={class:"ait-mt-10 ait-grid ait-grid-cols-1 ait-gap-y-8 ait-gap-x-6 sm:ait-grid-cols-6"},mt={class:"sm:ait-col-span-4"},ht={for:"promo-video",class:"ait-block ait-text-sm ait-font-medium ait-leading-6 ait-text-gray-900 dark:ait-text-white"},ut={class:"ait-mt-2"},ft={class:"ait-mt-2 ait-text-sm ait-leading-6 ait-text-gray-600 dark:ait-text-gray-400"},yt={class:"sm:ait-col-span-full"},bt={for:"screenshots-cover-photo",class:"ait-block ait-text-sm ait-font-medium ait-leading-6 ait-text-gray-900 dark:ait-text-white"},kt={class:"ait-mt-2 ait-flex ait-justify-center ait-rounded-lg ait-border ait-border-dashed ait-border-gray-900/25 dark:ait-border-white/25 ait-px-6 ait-py-10"},xt={class:"ait-text-center"},_t={class:"ait-mt-4 ait-flex ait-text-sm ait-leading-6 ait-text-gray-600 dark:ait-text-gray-400"},vt={for:"screenshots-upload",class:"ait-relative ait-cursor-pointer ait-rounded-md ait-bg-white dark:ait-bg-transparent ait-font-semibold ait-text-indigo-600 dark:ait-text-indigo-400 focus-within:ait-outline-none focus-within:ait-ring-2 focus-within:ait-ring-indigo-600 focus-within:ait-ring-offset-2 dark:focus-within:ait-ring-offset-gray-900 hover:ait-text-indigo-500"},wt={class:"ait-pl-1"},At={class:"ait-text-xs ait-leading-5 ait-text-gray-600 dark:ait-text-gray-400"},Ct={class:"ait-text-xs ait-leading-5 ait-text-gray-600 dark:ait-text-gray-400"},Dt={class:"sm:ait-col-span-full"},Lt={for:"additional-files-upload",class:"ait-block ait-text-sm ait-font-medium ait-leading-6 ait-text-gray-900 dark:ait-text-white"},Ut={class:"ait-mt-2 ait-flex ait-justify-center ait-rounded-lg ait-border ait-border-dashed ait-border-gray-900/25 dark:ait-border-white/25 ait-px-6 ait-py-10"},Ot={class:"ait-text-center"},It={class:"ait-mt-4 ait-flex ait-text-sm ait-leading-6 ait-text-gray-600 dark:ait-text-gray-400"},Pt={for:"additional-files-upload",class:"ait-relative ait-cursor-pointer ait-rounded-md ait-bg-white dark:ait-bg-transparent ait-font-semibold ait-text-indigo-600 dark:ait-text-indigo-400 focus-within:ait-outline-none focus-within:ait-ring-2 focus-within:ait-ring-indigo-600 focus-within:ait-ring-offset-2 dark:focus-within:ait-ring-offset-gray-900 hover:ait-text-indigo-500"},St={class:"ait-pl-1"},Mt={class:"ait-text-xs ait-leading-5 ait-text-gray-600 dark:ait-text-gray-400"},Vt={class:"ait-mt-6 ait-flex ait-items-center ait-justify-end ait-gap-x-6 ait-pb-12"},Tt={type:"submit",class:"ait-rounded-md ait-bg-[--ait-tab-menu-active-bg-color] ait-px-3 ait-py-2 ait-text-sm ait-font-semibold ait-text-white ait-shadow-sm hover:ait-opacity-90 focus-visible:ait-outline focus-visible:ait-outline-2 focus-visible:ait-outline-offset-2 focus-visible:ait-outline-indigo-600"};function Ft(t,a,s,l,m,p){const f=g("AgentMarketplaceHeader"),b=g("PageHeaderWithBack"),h=g("AgentMarketplaceFooter");return n(),r(u,null,[c(f),i("div",V,[t.isLoading?(n(),r("div",T,[a[11]||(a[11]=i("div",{class:"ait-inline-block ait-animate-spin ait-rounded-full ait-border-4 ait-border-solid ait-border-gray-300 ait-border-t-blue-600 ait-h-12 ait-w-12"},null,-1)),i("p",F,e(t.__("Loading agent details...")),1)])):(n(),r("main",B,[c(b,{title:"Publish Agent Details"}),i("form",{onSubmit:a[10]||(a[10]=v(((...a)=>t.handleSubmit&&t.handleSubmit(...a)),["prevent"])),class:"ait-space-y-12"},[i("div",H,[i("h2",j,e(t.__("Basic Information")),1),i("p",q,e(t.__("Provide the core details for your agent listing.")),1),i("div",z,[i("div",E,[i("label",R,e(t.__("Agent Title *")),1),i("div",N,[o(i("input",{type:"text",name:"agent-title",id:"agent-title","onUpdate:modelValue":a[0]||(a[0]=a=>t.agentTitle=a),required:"",class:"ait-block ait-w-full ait-rounded-md ait-border-0 ait-p-1.5 ait-text-gray-900 dark:ait-text-white ait-shadow-sm ait-ring-1 ait-ring-inset ait-ring-gray-300 dark:ait-ring-gray-700 placeholder:ait-text-gray-400 dark:placeholder:ait-text-gray-500 focus:ait-ring-2 focus:ait-ring-inset focus:ait-ring-indigo-600 dark:focus:ait-ring-indigo-500 sm:ait-text-sm sm:ait-leading-6 dark:ait-bg-white/5"},null,512),[[d,t.agentTitle]])])]),i("div",G,[a[12]||(a[12]=i("label",{for:"agent-category",class:"ait-block ait-text-sm ait-font-medium ait-leading-6 ait-text-gray-900 dark:ait-text-white"},"Category *",-1)),i("div",W,[o(i("select",{id:"agent-category",name:"agent-category",required:"","onUpdate:modelValue":a[1]||(a[1]=a=>t.agentCategory=a),class:"ait-block ait-w-full ait-rounded-md ait-border ait-border-transparent ait-p-1.5 ait-text-gray-900 dark:ait-text-white ait-shadow-sm ait-ring-1 ait-ring-inset ait-ring-gray-300 dark:ait-ring-gray-700 focus:ait-ring-2 focus:ait-ring-inset focus:ait-ring-indigo-600 dark:focus:ait-ring-indigo-500 sm:ait-text-sm sm:ait-leading-6 dark:ait-bg-white/5"},[0===t.categoryOptions.length?(n(),r("option",$,e(t.__("Loading categories...")),1)):A("",!0),(n(!0),r(u,null,C(t.categoryOptions,(t=>(n(),r("option",{key:t._listkey||t.title,value:t._listkey},e(t.title),9,J)))),128))],512),[[w,t.agentCategory]])])]),i("div",Y,[i("label",X,e(t.__("Agent Description *")),1),i("div",Z,[o(i("textarea",{id:"agent-description",name:"agent-description",rows:"3","onUpdate:modelValue":a[2]||(a[2]=a=>t.agentDescription=a),required:"",class:"ait-block ait-w-full ait-rounded-md ait-border-0 ait-p-1.5 ait-text-gray-900 dark:ait-text-white ait-shadow-sm ait-ring-1 ait-ring-inset ait-ring-gray-300 dark:ait-ring-gray-700 placeholder:ait-text-gray-400 dark:placeholder:ait-text-gray-500 focus:ait-ring-2 focus:ait-ring-inset focus:ait-ring-indigo-600 dark:focus:ait-ring-indigo-500 sm:ait-text-sm sm:ait-leading-6 dark:ait-bg-white/5"},null,512),[[d,t.agentDescription]])]),i("p",K,e(t.__("Write a short description for your agent.")),1)]),i("div",Q,[i("label",tt,e(t.__("Brief Description")),1),i("div",it,[o(i("textarea",{id:"agent-overview",name:"agent-overview",rows:"5","onUpdate:modelValue":a[3]||(a[3]=a=>t.briefDescription=a),class:"ait-block ait-w-full ait-rounded-md ait-border-0 ait-p-1.5 ait-text-gray-900 dark:ait-text-white ait-shadow-sm ait-ring-1 ait-ring-inset ait-ring-gray-300 dark:ait-ring-gray-700 placeholder:ait-text-gray-400 dark:placeholder:ait-text-gray-500 focus:ait-ring-2 focus:ait-ring-inset focus:ait-ring-indigo-600 dark:focus:ait-ring-indigo-500 sm:ait-text-sm sm:ait-leading-6 dark:ait-bg-white/5"},null,512),[[d,t.briefDescription]])])]),i("div",at,[i("label",et,e(t.__("Agent Overview")),1),i("div",st,[o(i("textarea",{id:"agent-overview",name:"agent-overview",rows:"5","onUpdate:modelValue":a[4]||(a[4]=a=>t.agentOverview=a),class:"ait-block ait-w-full ait-rounded-md ait-border-0 ait-p-1.5 ait-text-gray-900 dark:ait-text-white ait-shadow-sm ait-ring-1 ait-ring-inset ait-ring-gray-300 dark:ait-ring-gray-700 placeholder:ait-text-gray-400 dark:placeholder:ait-text-gray-500 focus:ait-ring-2 focus:ait-ring-inset focus:ait-ring-indigo-600 dark:focus:ait-ring-indigo-500 sm:ait-text-sm sm:ait-leading-6 dark:ait-bg-white/5"},null,512),[[d,t.agentOverview]])]),i("p",ot,e(t.__("Provide a more detailed overview of your agent's capabilities and features.")),1)]),i("div",rt,[i("label",nt,e(t.__("Credit Usage per chat message")),1),i("div",dt,[o(i("input",{type:"number",name:"agent-credit-usage",id:"agent-credit-usage","onUpdate:modelValue":a[5]||(a[5]=a=>t.agentCreditUsage=a),readonly:"",class:"ait-block ait-w-full ait-rounded-md ait-border-0 ait-p-1.5 ait-text-gray-900 dark:ait-text-white ait-shadow-sm ait-ring-1 ait-ring-inset ait-ring-gray-300 dark:ait-ring-gray-700 focus:ait-ring-2 focus:ait-ring-inset focus:ait-ring-indigo-600 dark:focus:ait-ring-indigo-500 sm:ait-text-sm sm:ait-leading-6 dark:ait-bg-gray-100 dark:ait-bg-white/5 dark:ait-text-gray-400"},null,512),[[d,t.agentCreditUsage]])])])])]),i("div",lt,[i("h2",gt,e(t.__("Localized Assets (Optional)")),1),i("p",ct,e(t.__("Provide assets specific to different languages or regions if needed.")),1),i("div",pt,[i("div",mt,[i("label",ht,e(t.__("Localized promo video")),1),i("div",ut,[o(i("input",{type:"url",name:"promo-video",id:"promo-video","onUpdate:modelValue":a[6]||(a[6]=a=>t.promoVideoUrl=a),placeholder:"https://www.youtube.com/watch?v=...",class:"ait-block ait-w-full ait-rounded-md ait-border-0 ait-p-1.5 ait-text-gray-900 dark:ait-text-white ait-shadow-sm ait-ring-1 ait-ring-inset ait-ring-gray-300 dark:ait-ring-gray-700 placeholder:ait-text-gray-400 dark:placeholder:ait-text-gray-500 focus:ait-ring-2 focus:ait-ring-inset focus:ait-ring-indigo-600 dark:focus:ait-ring-indigo-500 sm:ait-text-sm sm:ait-leading-6 dark:ait-bg-white/5"},null,512),[[d,t.promoVideoUrl]])]),i("p",ft,e(t.__("Enter a YouTube video URL.")),1)]),i("div",yt,[i("label",bt,e(t.__("Localized screenshots")),1),i("div",kt,[i("div",xt,[a[13]||(a[13]=i("svg",{class:"ait-mx-auto ait-h-12 ait-w-12 ait-text-gray-300 dark:ait-text-gray-500",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true"},[i("path",{"fill-rule":"evenodd",d:"M1.5 6a2.25 2.25 0 012.25-2.25h16.5A2.25 2.25 0 0122.5 6v12a2.25 2.25 0 01-2.25 2.25H3.75A2.25 2.25 0 011.5 18V6zM3 16.06V18c0 .414.336.75.75.75h16.5A.75.75 0 0021 18v-1.94l-2.69-2.689a1.5 1.5 0 00-2.12 0l-.88.879.97.97a.75.75 0 11-1.06 1.06l-5.16-5.159a1.5 1.5 0 00-2.12 0L3 16.061zm10.125-7.81a1.125 1.125 0 112.25 0 1.125 1.125 0 01-2.25 0z","clip-rule":"evenodd"})],-1)),i("div",_t,[i("label",vt,[i("span",null,e(t.__("Upload files")),1),i("input",{id:"screenshots-upload",name:"screenshots-upload",type:"file",multiple:"",accept:"image/png, image/jpeg",onChange:a[7]||(a[7]=(...a)=>t.handleScreenshotsChange&&t.handleScreenshotsChange(...a)),class:"ait-sr-only"},null,32)]),i("p",wt,e(t.__("or drag and drop")),1)]),i("p",At,e(t.__("PNG, JPG up to 5MB each. Max 5 images.")),1),i("p",Ct,e(t.__("1280x800 or 640x400. At least one required.")),1)])])]),i("div",Dt,[i("label",Lt,e(t.__("Agent Files")),1),i("div",Ut,[i("div",Ot,[a[14]||(a[14]=i("svg",{class:"ait-mx-auto ait-h-12 ait-w-12 ait-text-gray-300 dark:ait-text-gray-500",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor"},[i("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M19.5 14.25v-2.625a3.375 3.375 0 0 0-3.375-3.375h-1.5A1.125 1.125 0 0 1 13.5 7.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H8.25m6.75 12-3-3m0 0-3 3m3-3v6m-1.5-15H5.625c-.621 0-1.125.504-1.125 1.125v17.25c0 .621.504 1.125 1.125 1.125h12.75c.621 0 1.125-.504 1.125-1.125V11.25a9 9 0 0 0-9-9Z"})],-1)),i("div",It,[i("label",Pt,[i("span",null,e(t.__("Upload files")),1),i("input",{id:"additional-files-upload",name:"additional-files-upload",type:"file",multiple:"",onChange:a[8]||(a[8]=(...a)=>t.handleAdditionalFilesChange&&t.handleAdditionalFilesChange(...a)),class:"ait-sr-only",accept:".zip,.pdf,.txt,.md"},null,32)]),i("p",St,e(t.__("or drag and drop")),1)]),i("p",Mt,e(t.__("e.g., ZIP, PDF, TXT, MD up to 10MB each.")),1)])])])])]),i("div",Vt,[i("button",{type:"button",onClick:a[9]||(a[9]=()=>t.navigateTo("agents")),class:"ait-text-sm ait-font-semibold ait-leading-6 ait-text-gray-900 dark:ait-text-white"},e(t.__("Cancel")),1),i("button",Tt,e(t.__("Request Publish")),1)])],32)])),c(h)])],64)}const Bt=P(M,[["render",Ft]]);m.setSidebar(),m.addLoading();const l=D(Bt,{type:"FullScreen"});if(Object.keys(y).forEach((t=>{l.component(t,y[t])})),window.aiVueApp=l,l.mount("#aitopia-full"),p){let t=Object.keys(p);t&&t.forEach((t=>{l.component(t,p[t])}))}let Ht=null==document?void 0:document.querySelector("#aitopia-sidebar");m.resizeBorder(Ht,440);
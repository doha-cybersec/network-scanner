import{d as v,a_ as c,J as o,aP as r,X as d,L as t,bH as A,W as h,I as y,F as C,aY as D,bc as s,aA as P,bM as M,G as B}from"./87a84c2cf7b4fda35bfcac0640ac264b.js";import{H as x}from"./7afd07c687eb49d39fd77bf78fe5ec25.js";import{c as H,d as N,A as I,P as W,b as z,_ as j,C as u}from"./8d303f94e93901152d11040290f309bc.js";import{P as L}from"./b7f39e5a9052c6d052ea076906fecc13.js";import"./2736eeee414806ef50a46b2dbb19ce49.js";import{A as m}from"./b6f1195743a79bb5e047efc45e4ec1a8.js";import"./9c387392fdc5bbcf7335d803b777bc34.js";import"./93c5775672b5704373697ce70541c884.js";import"./730ecdbe744cb4a1446d00cb2b3bdbb1.js";import"./ccb02b363d45d8a770185e0773c7b631.js";import"./0811d7a4c39e6078b59d515398ad441d.js";import"./dcea5b6683ffc6e329bf502a60c8c88d.js";import"./b266269d4bacae7ca70e8b4e8fa98e86.js";import"./35a4e9e5b03ce9f6b934005df8651842.js";import"./24f2f391bb30a906fed56b8bff743fcb.js";import"./4d8530bbbd6abd9246d7a47fdf83b94b.js";import"./c63a988018a19bb069147e542d0100cc.js";import"./a1f937a8f2e3868bc093764a98119575.js";import"./2aa242c5d59db38b285a255688e851e9.js";import"./1b8ead64d23fbbfcf48d4652332960c3.js";import"./75b49a1b196983c05948f45215119584.js";import"./4cfe72e6823fa90866abd661c90d1a61.js";import"./c90f206377370d0637b0d1ca16e84cd3.js";import"./85e6709c31dd87565e34195aad62877a.js";import"./ff1c62831b919e645c41cf9dce23d935.js";import"./7efee2cfaa139c0e5c25b42987b40778.js";import"./3b2640d687b5327271e57663b50c251b.js";import"./54e18790c5fc36d3ab2a9cee8314e668.js";import"./aabeb46aa265f5891225553a7beae8bb.js";const S=v({name:"AgentPublish",extends:I,components:{AgentMarketplaceHeader:N,AgentMarketplaceFooter:H,PageHeaderWithBack:L},data:()=>({agents:[],activeDropdownAgentId:null,categoryCache:{}}),async mounted(){this.agents=await this.getAgents()},methods:{async getAgents(){const t=await W.search();if(console.log(t,"agentsResponse from Publisher.search"),t&&Array.isArray(t)){const a=await z.get(""),e=await Promise.all(t.map((async t=>{let e="N/A";return t.category_id&&(console.log(a,"categoryData from Categories.get"),a&&(e=a[t.category_id].title)),{...t,categoryName:e}})));return console.log(e,"agentsWithCategoryNames"),e}return[]},togglePublishDropdown(t){this.activeDropdownAgentId===t?this.activeDropdownAgentId=null:this.activeDropdownAgentId=t},publishAgent(t){this.navigateTo("agent_publish_details",{agentId:t._listkey}),this.activeDropdownAgentId=null}}}),V={class:"ait-flex ait-flex-col ait-min-h-screen"},$={class:"ait-flex-1 ait-overflow-y-auto ait-bg-gray-50 dark:ait-bg-[var(--ait-option-card-bg-color)] ait-text-gray-800 dark:ait-text-gray-200 ait-px-4 sm:ait-px-6 md:ait-px-8 lg:ait-px-12"},F={class:"ait-container ait-mx-auto ait-px-0 sm:ait-px-4 md:ait-px-6 lg:ait-px-8 xl:ait-px-48 ait-py-4 sm:ait-py-6 ait-mt-4 sm:ait-mt-6"},E={class:"ait-flex ait-space-x-2"},O={class:"ait-overflow-x-auto ait-bg-white dark:ait-bg-[var(--ait-switchbar-bg-color)] ait-shadow-md ait-rounded-lg"},R={class:"ait-min-w-full ait-divide-y ait-divide-gray-200 dark:ait-divide-gray-700"},T={class:"ait-bg-white dark:ait-bg-[var(--ait-switchbar-bg-color)] ait-divide-y ait-divide-gray-200 dark:ait-divide-gray-700"},q={class:"ait-px-6 ait-py-4 ait-whitespace-nowrap"},G={class:"ait-flex ait-items-center"},J={class:"ait-flex-shrink-0 ait-h-10 ait-w-10"},U={key:0,class:"ait-h-10 ait-w-10 ait-rounded-md ait-bg-green-500 ait-flex ait-items-center ait-justify-center ait-text-white ait-font-bold"},X=["src"],Y={key:2,class:"ait-h-10 ait-w-10 ait-rounded-md ait-bg-green-500 ait-flex ait-items-center ait-justify-center ait-text-white"},K={key:3,class:"ait-h-10 ait-w-10 ait-rounded-md ait-bg-green-500 ait-flex ait-items-center ait-justify-center ait-text-white"},Q={class:"ait-ml-4"},Z={class:"ait-text-sm ait-font-medium ait-text-gray-900 dark:ait-text-white"},tt={class:"ait-text-sm ait-text-gray-500 dark:ait-text-gray-400"},at={class:"ait-px-6 ait-py-4 ait-whitespace-nowrap ait-text-sm ait-text-gray-500 dark:ait-text-gray-400"},it={class:"ait-px-6 ait-py-4 ait-whitespace-nowrap"},et={class:"ait-inline-flex ait-items-center ait-px-2.5 ait-py-0.5 ait-rounded-full ait-text-xs ait-font-medium ait-bg-green-100 ait-text-green-800 dark:ait-bg-green-900 dark:ait-text-green-300"},st={class:"ait-px-6 ait-py-4 ait-whitespace-nowrap ait-text-sm ait-text-gray-500 dark:ait-text-gray-400"},ot={class:"ait-px-6 ait-py-4 ait-whitespace-nowrap ait-text-sm ait-text-gray-500 dark:ait-text-gray-400"},rt={class:"ait-px-6 ait-py-4 ait-whitespace-nowrap ait-text-sm ait-text-gray-500 dark:ait-text-gray-400"},nt={class:"ait-px-6 ait-py-4 ait-whitespace-nowrap ait-relative group"},ct={class:"ait-px-6 ait-py-4 ait-whitespace-nowrap ait-relative group"},dt=["onClick"],lt={key:0,class:"ait-absolute ait-right-0 ait-mt-2 ait-w-48 ait-bg-white dark:ait-bg-gray-800 ait-rounded-md ait-shadow-lg ait-z-10 ait-border ait-border-gray-200 dark:ait-border-gray-700"},pt={class:"ait-py-1"},gt=["onClick"],mt={key:0};function xt(a,e,i,n,l,g){const p=c("AgentMarketplaceHeader"),x=c("PageHeaderWithBack"),b=c("font-awesome-icon"),m=c("AgentMarketplaceFooter");return r(),o("div",V,[d(p),t("div",$,[t("main",F,[d(x,{title:"Items"},{actions:A((()=>[t("div",E,[t("button",{onClick:e[0]||(e[0]=t=>a.navigateTo("agent_create_marketplace")),class:"ait-px-4 ait-py-2 ait-bg-[--ait-tab-menu-active-bg-color] ait-text-white ait-rounded-md ait-flex ait-items-center hover:ait-bg-[--ait-tab-menu-active-bg-color] ait-text-sm"},e[1]||(e[1]=[t("svg",{xmlns:"http://www.w3.org/2000/svg",class:"ait-h-5 ait-w-5 ait-mr-1",viewBox:"0 0 20 20",fill:"currentColor"},[t("path",{"fill-rule":"evenodd",d:"M10 3a1 1 0 011 1v5h5a1 1 0 110 2h-5v5a1 1 0 11-2 0v-5H4a1 1 0 110-2h5V4a1 1 0 011-1z","clip-rule":"evenodd"})],-1),h(" Create new agent ")]))])])),_:1}),t("div",O,[t("table",R,[e[5]||(e[5]=t("thead",{class:"ait-bg-gray-50 dark:ait-bg-neutral-700"},[t("tr",null,[t("th",{scope:"col",class:"ait-px-6 ait-py-3 ait-text-left ait-text-xs ait-font-medium ait-text-gray-500 dark:ait-text-gray-300 ait-uppercase ait-tracking-wider"}," Item "),t("th",{scope:"col",class:"ait-px-6 ait-py-3 ait-text-left ait-text-xs ait-font-medium ait-text-gray-500 dark:ait-text-gray-300 ait-uppercase ait-tracking-wider"}," Category "),t("th",{scope:"col",class:"ait-px-6 ait-py-3 ait-text-left ait-text-xs ait-font-medium ait-text-gray-500 dark:ait-text-gray-300 ait-uppercase ait-tracking-wider"}," Rating "),t("th",{scope:"col",class:"ait-px-6 ait-py-3 ait-text-left ait-text-xs ait-font-medium ait-text-gray-500 dark:ait-text-gray-300 ait-uppercase ait-tracking-wider"}," Users "),t("th",{scope:"col",class:"ait-px-6 ait-py-3 ait-text-left ait-text-xs ait-font-medium ait-text-gray-500 dark:ait-text-gray-300 ait-uppercase ait-tracking-wider"}," Created "),t("th",{scope:"col",class:"ait-px-6 ait-py-3 ait-text-left ait-text-xs ait-font-medium ait-text-gray-500 dark:ait-text-gray-300 ait-uppercase ait-tracking-wider"}," Last updated "),t("th",{scope:"col",class:"ait-px-6 ait-py-3 ait-text-left ait-text-xs ait-font-medium ait-text-gray-500 dark:ait-text-gray-300 ait-uppercase ait-tracking-wider"}," Status "),t("th",{scope:"col",class:"ait-px-6 ait-py-3 ait-text-left ait-text-xs ait-font-medium ait-text-gray-500 dark:ait-text-gray-300 ait-uppercase ait-tracking-wider"}," Actions ")])],-1)),t("tbody",T,[(r(!0),o(C,null,D(a.agents,(i=>(r(),o("tr",{key:i._listkey},[t("td",q,[t("div",G,[t("div",J,[i.icon?i.icon&&(i.icon.startsWith("http")||i.icon.startsWith("/"))?(r(),o("img",{key:1,src:i.icon,class:"ait-h-10 ait-w-10 ait-rounded-md",alt:"Agent icon"},null,8,X)):i.icon&&i.icon.startsWith("fa-")?(r(),o("div",Y,[d(b,{icon:i.icon,class:"ait-w-3 ait-h-3"},null,8,["icon"])])):(r(),o("div",K,s(i.icon),1)):(r(),o("div",U,s(i.title?i.title.charAt(0):"?"),1))]),t("div",Q,[t("div",Z,s(i.title),1),t("div",tt," Version "+s(i.version||"1.0.0"),1)])])]),t("td",at,s(i.categoryName||"Agent"),1),t("td",it,[t("span",et,[e[2]||(e[2]=t("svg",{class:"ait-mr-1 ait-h-3 ait-w-3 ait-text-green-400",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor"},[t("path",{d:"M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"})],-1)),h(" "+s(i.rating||"0.0"),1)])]),t("td",st,s(i.users||"0"),1),t("td",ot,s(new Date(i.created_date).toLocaleDateString()),1),t("td",rt,s(new Date(i.updated_date).toLocaleDateString()),1),t("td",nt,[t("span",{class:P(["ait-px-2 ait-inline-flex ait-text-xs ait-leading-5 ait-font-semibold ait-rounded-full",{"ait-bg-green-100 ait-text-green-800 dark:ait-bg-green-900 dark:ait-text-green-300":"1"===i.is_confirmation,"ait-bg-yellow-100 ait-text-yellow-800 dark:ait-bg-yellow-900 dark:ait-text-yellow-300":"1"!==i.is_confirmation}])},s("1"===i.is_confirmation?"Published":"Draft"),3)]),t("td",ct,[t("button",{onClick:M((t=>a.togglePublishDropdown(i._listkey)),["stop"]),class:"ait-absolute ait-top-1/2 ait--translate-y-1/2 group-hover:ait-inline-flex ait-items-center ait-justify-center ait-p-1 ait-rounded hover:ait-bg-gray-200 dark:hover:ait-bg-gray-700",title:"Options"},e[3]||(e[3]=[t("svg",{xmlns:"http://www.w3.org/2000/svg",class:"ait-h-4 ait-w-4 ait-text-gray-500 dark:ait-text-gray-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","stroke-width":"2"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M5 12h.01M12 12h.01M19 12h.01M6 12a1 1 0 11-2 0 1 1 0 012 0zm7 0a1 1 0 11-2 0 1 1 0 012 0zm7 0a1 1 0 11-2 0 1 1 0 012 0z"})],-1)]),8,dt),a.activeDropdownAgentId===i._listkey?(r(),o("div",lt,[t("div",pt,[t("button",{onClick:t=>a.publishAgent(i),class:"ait-block ait-w-full ait-text-left ait-px-4 ait-py-2 ait-text-sm ait-text-gray-700 dark:ait-text-gray-200 hover:ait-bg-gray-100 dark:hover:ait-bg-gray-700"}," Publish request ",8,gt)])])):y("",!0)])])))),128)),0===a.agents.length?(r(),o("tr",mt,e[4]||(e[4]=[t("td",{colspan:"7",class:"ait-px-6 ait-py-4 ait-text-center ait-text-gray-500 dark:ait-text-gray-400"}," No agents found. Create a new agent to get started. ",-1)]))):y("",!0)])])])])]),d(m)])}const ht=j(S,[["render",xt]]);x.setSidebar(),x.addLoading();const l=B(ht,{type:"FullScreen"});if(Object.keys(u).forEach((t=>{l.component(t,u[t])})),window.aiVueApp=l,l.mount("#aitopia-full"),m){let t=Object.keys(m);t&&t.forEach((t=>{l.component(t,m[t])}))}let yt=null==document?void 0:document.querySelector("#aitopia-sidebar");x.resizeBorder(yt,440);
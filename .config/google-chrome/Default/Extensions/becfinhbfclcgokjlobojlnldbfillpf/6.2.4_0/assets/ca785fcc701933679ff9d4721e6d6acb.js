import{d as A,a_ as g,J as l,aP as o,X as m,L as a,I as F,aA as s,bc as n,F as u,aY as f,bH as _,H as S,G as B}from"./87a84c2cf7b4fda35bfcac0640ac264b.js";import{H as y}from"./7afd07c687eb49d39fd77bf78fe5ec25.js";import{A as $,b as L,_ as O,C as w}from"./8d303f94e93901152d11040290f309bc.js";import"./2736eeee414806ef50a46b2dbb19ce49.js";import{A as b}from"./b6f1195743a79bb5e047efc45e4ec1a8.js";import"./9c387392fdc5bbcf7335d803b777bc34.js";import"./93c5775672b5704373697ce70541c884.js";import"./730ecdbe744cb4a1446d00cb2b3bdbb1.js";import"./ccb02b363d45d8a770185e0773c7b631.js";import"./0811d7a4c39e6078b59d515398ad441d.js";import"./dcea5b6683ffc6e329bf502a60c8c88d.js";import"./b266269d4bacae7ca70e8b4e8fa98e86.js";import"./35a4e9e5b03ce9f6b934005df8651842.js";import"./24f2f391bb30a906fed56b8bff743fcb.js";import"./4d8530bbbd6abd9246d7a47fdf83b94b.js";import"./c63a988018a19bb069147e542d0100cc.js";import"./a1f937a8f2e3868bc093764a98119575.js";import"./2aa242c5d59db38b285a255688e851e9.js";import"./1b8ead64d23fbbfcf48d4652332960c3.js";import"./75b49a1b196983c05948f45215119584.js";import"./4cfe72e6823fa90866abd661c90d1a61.js";import"./c90f206377370d0637b0d1ca16e84cd3.js";import"./85e6709c31dd87565e34195aad62877a.js";import"./ff1c62831b919e645c41cf9dce23d935.js";import"./7efee2cfaa139c0e5c25b42987b40778.js";import"./3b2640d687b5327271e57663b50c251b.js";import"./54e18790c5fc36d3ab2a9cee8314e668.js";import"./aabeb46aa265f5891225553a7beae8bb.js";const W=A({name:"AgentCategoryPage",extends:$,data:()=>({agents:[],categoriesList:[],currentCategory:"productivity",filters:{sortBy:"popularity",ratingFilter:0,priceFilter:"all"},filteredCount:0,max_page:0,windowWidth:1024,isSidebarOpen:!1}),computed:{},methods:{setCategory(t){var a;this.currentCategory=t,window.location.href=`${(null==(a=this.constants)?void 0:a.extension_main_dir)||""}/agent_category.html?id=${t}`,this.windowWidth<768&&(this.isSidebarOpen=!1)},updateFilter(t,a){this.filters[t]=a},toggleSidebar(){this.isSidebarOpen=!this.isSidebarOpen},navigateToAgentDetails(t){var a;window.location.href=`${(null==(a=this.constants)?void 0:a.extension_main_dir)||""}/agent_details.html?id=${t}`},updateWindowWidth(){this.windowWidth=window.innerWidth},async filteredAgents(t=null,a=1){let i=[];this.currentCategory&&(i=[{data:"category_id",search:{value:this.currentCategory,eq:"="}}]);let e=await this.Markets.Agents.search(t,i,a);return this.filteredCount=this.Helpers.notUndefined(e,"recordsFiltered")??0,this.max_page=Object.values(this.Helpers.notUndefined(e,"_pages")??[]).length??0,e=Object.values(this.Helpers.notUndefined(e,"data")),this.filters.ratingFilter>0&&(e=e.filter((t=>t.rating>=this.filters.ratingFilter))),"rating"===this.filters.sortBy?e.sort(((t,a)=>a.rating-t.rating)):"newest"===this.filters.sortBy&&e.sort((()=>Math.random()-.5)),this.agents=Object.values(this.agents).concat(Object.values(e)),e},async fetchCategories(){try{const t=await L.search();t?this.categoriesList=Object.values(t):(this.categoriesList=[],console.error("Failed to fetch categories or data is not in expected format:",t))}catch(t){console.error("Error fetching categories:",t),this.categoriesList=[]}}},async mounted(){const t=new URLSearchParams(window.location.search).get("id");this.currentCategory=t||null,await this.fetchCategories(),await this.filteredAgents(),this.windowWidth=window.innerWidth,window.addEventListener("resize",this.updateWindowWidth)},beforeUnmount(){window.removeEventListener("resize",this.updateWindowWidth)}}),j={class:"ait-block ait-min-h-screen ait-bg-gray-50 dark:ait-bg-[var(--ait-option-card-bg-color)] ait-text-gray-800 dark:ait-text-gray-200"},H={class:"ait-flex ait-min-h-[calc(100vh-72px)]"},M={class:"ait-flex ait-justify-end md:ait-hidden ait-mb-4"},P={class:"ait-text-xl ait-font-semibold ait-mb-4"},z={class:"ait-space-y-1"},U=["onClick"],E={class:"ait-flex ait-items-center ait-gap-2"},N={class:"ait-text-lg"},V={class:"ait-flex-1 ait-p-4 sm:ait-p-6 ait-overflow-hidden"},q={class:"ait-mb-6"},R={class:"ait-text-2xl ait-font-bold ait-mb-6"},D={class:"ait-bg-white dark:ait-bg-[var(--ait-switchbar-bg-color)] ait-rounded-lg ait-shadow-sm ait-p-4 ait-mb-6"},G={class:"ait-flex ait-flex-col sm:ait-flex-row ait-items-start sm:ait-items-center ait-justify-between ait-gap-4"},I={class:"ait-flex ait-flex-wrap ait-gap-2"},J={class:"ait-flex ait-flex-wrap ait-gap-2"},T={class:"ait-text-sm ait-text-gray-500 dark:ait-text-gray-400 ait-mb-4"};function X(t,i,e,r,d,c){const b=g("AgentMarketplaceHeader"),p=g("AgentCard"),y=g("AitLoadMore"),h=g("AgentMarketplaceFooter");return o(),l(u,null,[m(b),a("div",j,[a("div",H,[a("aside",{class:s(["ait-w-60 ait-bg-white dark:ait-bg-[var(--ait-switchbar-bg-color)] ait-border-r ait-border-gray-200 dark:ait-border-gray-700 ait-p-4 ait-transition-all ait-duration-300 ait-overflow-y-auto",{"ait-fixed ait-inset-0 ait-z-30":t.isSidebarOpen},{"ait-hidden":!t.isSidebarOpen&&t.windowWidth<768},"md:ait-sticky md:ait-top-[0px] md:ait-h-[calc(100vh-10px)] md:ait-block md:ait-z-0"])},[a("div",M,[a("button",{onClick:i[0]||(i[0]=(...a)=>t.toggleSidebar&&t.toggleSidebar(...a)),class:"ait-p-1.5 ait-rounded-full ait-bg-gray-100 dark:ait-bg-gray-700"},i[8]||(i[8]=[a("svg",{xmlns:"http://www.w3.org/2000/svg",class:"ait-h-5 ait-w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[a("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)]))]),a("h2",P,n(t.__("Categories")),1),a("ul",z,[(o(!0),l(u,null,f(t.categoriesList,(i=>(o(),l("li",{key:i._listkey,onClick:a=>t.setCategory(i._listkey),class:s(["ait-flex ait-items-center ait-justify-between ait-p-2 ait-rounded-lg ait-cursor-pointer ait-transition-colors",t.currentCategory===i._listkey?"ait-bg-[var(--ait-tab-menu-active-bg-color)] ait-text-white":"hover:ait-bg-gray-100 dark:hover:ait-bg-neutral-700"])},[a("div",E,[a("span",N,n(i.icon),1),a("span",null,n(i.title),1)])],10,U)))),128))])],2),t.isSidebarOpen?(o(),l("div",{key:0,class:"ait-fixed ait-inset-0 ait-bg-black ait-bg-opacity-50 ait-z-20 md:ait-hidden",onClick:i[1]||(i[1]=(...a)=>t.toggleSidebar&&t.toggleSidebar(...a))})):F("",!0),a("main",V,[a("div",q,[a("h1",R,n(t.currentCategory?t.currentCategory.charAt(0).toUpperCase()+t.currentCategory.slice(1):"")+" "+n(t.__("Agents")),1),a("div",D,[a("div",G,[a("div",I,[i[9]||(i[9]=a("span",{class:"ait-text-sm ait-text-gray-500 dark:ait-text-gray-400 ait-self-center"},"Sort by:",-1)),a("button",{onClick:i[2]||(i[2]=a=>t.updateFilter("sortBy","popularity")),class:s(["ait-px-3 ait-py-1 ait-rounded-full ait-text-sm","popularity"===t.filters.sortBy?"ait-bg-[var(--ait-tab-menu-active-bg-color)] ait-text-white":"ait-bg-gray-100 dark:ait-bg-gray-700 ait-text-gray-700 dark:ait-text-gray-300"])}," Popularity ",2),a("button",{onClick:i[3]||(i[3]=a=>t.updateFilter("sortBy","rating")),class:s(["ait-px-3 ait-py-1 ait-rounded-full ait-text-sm","rating"===t.filters.sortBy?"ait-bg-[var(--ait-tab-menu-active-bg-color)] ait-text-white":"ait-bg-gray-100 dark:ait-bg-gray-700 ait-text-gray-700 dark:ait-text-gray-300"])}," Rating ",2),a("button",{onClick:i[4]||(i[4]=a=>t.updateFilter("sortBy","newest")),class:s(["ait-px-3 ait-py-1 ait-rounded-full ait-text-sm","newest"===t.filters.sortBy?"ait-bg-[var(--ait-tab-menu-active-bg-color)] ait-text-white":"ait-bg-gray-100 dark:ait-bg-gray-700 ait-text-gray-700 dark:ait-text-gray-300"])}," Newest ",2)]),a("div",J,[i[10]||(i[10]=a("span",{class:"ait-text-sm ait-text-gray-500 dark:ait-text-gray-400 ait-self-center"},"Rating:",-1)),a("button",{onClick:i[5]||(i[5]=a=>t.updateFilter("ratingFilter",0)),class:s(["ait-px-3 ait-py-1 ait-rounded-full ait-text-sm",0===t.filters.ratingFilter?"ait-bg-[var(--ait-tab-menu-active-bg-color)] ait-text-white":"ait-bg-gray-100 dark:ait-bg-gray-700 ait-text-gray-700 dark:ait-text-gray-300"])}," All ",2),a("button",{onClick:i[6]||(i[6]=a=>t.updateFilter("ratingFilter",4)),class:s(["ait-px-3 ait-py-1 ait-rounded-full ait-text-sm",4===t.filters.ratingFilter?"ait-bg-[var(--ait-tab-menu-active-bg-color)] ait-text-white":"ait-bg-gray-100 dark:ait-bg-gray-700 ait-text-gray-700 dark:ait-text-gray-300"])}," 4+ ★ ",2),a("button",{onClick:i[7]||(i[7]=a=>t.updateFilter("ratingFilter",3)),class:s(["ait-px-3 ait-py-1 ait-rounded-full ait-text-sm",3===t.filters.ratingFilter?"ait-bg-[var(--ait-tab-menu-active-bg-color)] ait-text-white":"ait-bg-gray-100 dark:ait-bg-gray-700 ait-text-gray-700 dark:ait-text-gray-300"])}," 3+ ★ ",2)])])]),a("p",T," Showing "+n(t.filteredCount)+" results ",1)]),m(y,{fn:this.filteredAgents,filters:{q:null,page:1},scroll_element:"html",max_page:this.max_page,class:"ait-grid ait-grid-cols-1 sm:ait-grid-cols-2 lg:ait-grid-cols-3 xl:ait-grid-cols-4 ait-gap-4 sm:ait-gap-6"},{default:_((()=>[(o(!0),l(u,null,f(t.agents,(a=>(o(),S(p,{key:t.Helpers.notUndefined(a,"_listkey"),agent:a},null,8,["agent"])))),128))])),_:1},8,["fn","max_page"])])])]),m(h)],64)}const Y=O(W,[["render",X],["__scopeId","data-v-09f5997d"]]);y.setSidebar(),y.addLoading();const p=B(Y,{type:"FullScreen"});if(Object.keys(w).forEach((t=>{p.component(t,w[t])})),window.aiVueApp=p,p.mount("#aitopia-full"),b){let t=Object.keys(b);t&&t.forEach((t=>{p.component(t,b[t])}))}let K=null==document?void 0:document.querySelector("#aitopia-sidebar");y.resizeBorder(K,440);
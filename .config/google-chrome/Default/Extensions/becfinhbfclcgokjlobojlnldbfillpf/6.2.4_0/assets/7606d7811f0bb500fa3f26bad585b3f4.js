import{a_ as w,J as h,aP as d,L as a,X as l,I as y,aA as m,bc as g,bH as T,F,aY as R,W as A,G as I}from"./87a84c2cf7b4fda35bfcac0640ac264b.js";import{H as b}from"./7afd07c687eb49d39fd77bf78fe5ec25.js";import{A as C,_ as N,m as U,C as M}from"./8d303f94e93901152d11040290f309bc.js";import{F as D}from"./0196d58bb8642dce6457d13d94d33c17.js";import"./2736eeee414806ef50a46b2dbb19ce49.js";import{A as z}from"./b6f1195743a79bb5e047efc45e4ec1a8.js";import"./9c387392fdc5bbcf7335d803b777bc34.js";import"./93c5775672b5704373697ce70541c884.js";import"./730ecdbe744cb4a1446d00cb2b3bdbb1.js";import"./ccb02b363d45d8a770185e0773c7b631.js";import"./0811d7a4c39e6078b59d515398ad441d.js";import"./dcea5b6683ffc6e329bf502a60c8c88d.js";import"./b266269d4bacae7ca70e8b4e8fa98e86.js";import"./35a4e9e5b03ce9f6b934005df8651842.js";import"./24f2f391bb30a906fed56b8bff743fcb.js";import"./4d8530bbbd6abd9246d7a47fdf83b94b.js";import"./c63a988018a19bb069147e542d0100cc.js";import"./a1f937a8f2e3868bc093764a98119575.js";import"./2aa242c5d59db38b285a255688e851e9.js";import"./1b8ead64d23fbbfcf48d4652332960c3.js";import"./75b49a1b196983c05948f45215119584.js";import"./4cfe72e6823fa90866abd661c90d1a61.js";import"./c90f206377370d0637b0d1ca16e84cd3.js";import"./85e6709c31dd87565e34195aad62877a.js";import"./ff1c62831b919e645c41cf9dce23d935.js";import"./91125fddb13c171d06c5858ecf5bea69.js";import"./bcf4134a4a556de4ee403352524ff81a.js";import"./4a65be22bddb73e1999558835fb6bba1.js";import"./0ad26b610ddcef096d4d865b8c763f01.js";import"./d773a614e054f2d9aec56b1b79e4c625.js";import"./247181262fddb482b5c9ae0bba2666ad.js";import"./ffddd36e5ff55eed5b60f74a6e818f25.js";import"./e1b38652fd58232a8f02469e29295aab.js";import"./d1b65f4321c0417f893639d35dc980fe.js";import"./6f91a82c1b3d972807b78791ed186c86.js";import"./34eaacfb0e840cf04d070f0b6c14639f.js";import"./3b2640d687b5327271e57663b50c251b.js";import"./54e18790c5fc36d3ab2a9cee8314e668.js";import"./aabeb46aa265f5891225553a7beae8bb.js";import"./c1f6401f16daacfb12ff6f86c9d0a5d3.js";import"./7efee2cfaa139c0e5c25b42987b40778.js";const Z={extends:C,async beforeMount(){this.fileProcessor=D.getInstance()},data:()=>({fileUploaded:!1,selectedFile:null,currentPage:1,totalPages:1,pages:[],isLoading:!1,fileName:"",error:null,fileProcessor:null,pdfContainer:null,canvasContainer:null,containerMounted:!1,isConverting:!1,thumbnails:[],thumbnailsLoading:!1,currentZoom:1,showThumbnails:!0,showRightPanel:!0,pdfContent:"",resultCustomKeyReply:"",isGettingSuggestions:!1,isGettingSummary:!1,aiReplyPrompt:"",intentKey:"",keyPointsKey:"",suggestionsKey:"",lastGeneratedReply:"",continueImproving:!1,settingModal:!1,running:!1,emailContent:"",emailData:{}}),computed:{acceptedFileTypes:()=>".pdf,.doc,.docx,.xlsx,.xls,.ppt,.pptx",loadingMessage(){return this.isConverting?this.__("Converting document to PDF..."):this.__("Loading PDF content...")}},mounted(){null!==this.extra_data&&this.changeStorage("extra_data",null,!1),null!==this.context_data&&this.changeStorage("context_data",null,!1),this.initializeContainer()},methods:{resetState:async()=>window.location.reload(),async cleanupResources(){try{if(this.fileUploaded=!1,this.selectedFile=null,this.currentPage=1,this.totalPages=1,this.pages=[],this.fileName="",this.pdfContent="",this.isLoading=!1,this.error=null,this.thumbnails.forEach((t=>{(t.startsWith("blob:")||t.startsWith("data:"))&&URL.revokeObjectURL(t)})),this.thumbnails=[],this.canvasContainer){const t=this.canvasContainer.getElementsByTagName("canvas");Array.from(t).forEach((t=>{const e=t.getContext("2d");e&&(e.clearRect(0,0,t.width,t.height),e.canvas=null),t.width=1,t.height=1})),this.canvasContainer.innerHTML=""}if(this.pdfContainer){const t=this.pdfContainer.querySelector(".pdf-text-layer");t&&(t.innerHTML=""),this.pdfContainer.innerHTML="",this.pdfContainer=null}this.currentZoom=1,this.showThumbnails=!0,this.showRightPanel=!0,this.fileProcessor&&await this.fileProcessor.cleanup(),this.changeStorage("extra_data",null,!1),this.changeStorage("context_data",null,!1),window.gc&&window.gc()}catch(t){console.error("Error during cleanup:",t),this.fileUploaded=!1,this.isLoading=!1,this.error=t.message||this.__("Error during cleanup")}},async getFileAnalysis(){const t="fileAnalysis";this.suggestionsKey=t;try{const e=await b.Browser().storage.local.get("current_file_name");if(this.ai_single&&this.ai_single[t]&&e&&e.current_file_name===this.fileName)return;this.isGettingSuggestions=this.isGettingSummary=!0;let a=`You are a highly skilled AI assistant for analyzing file content. I need two things:\n\n        1. A summary of the content in maximum 2 very short sentences. Start the summary with ##SUMMARY_START## and end with ##SUMMARY_END##\n\n        2. Three topic-based question suggestions about the content. Each suggestion should focus on different aspects (one positive, one neutral, one negative) to help understand the file content better. Start each suggestion with ##SUGGESTION_START## and end with ##SUGGESTION_END##\n\n        Do not include labels like "positive", "negative", or "neutral" in the output. Keep suggestions concise but informative.\n        Respond in the ${this.settings.language_name} language.\n\n        Content to analyze:\n        """${this.pdfContent}"""`;this.running=!0;let i=Object.assign({},this.emailData);i.mode="fileAnalysis",console.log("Getting file analysis..."),await this.aiChat(a,this.settings.ai_model,"ai_single",t,!0,!0,null,!1,i),console.log("File analysis completed.")}catch(e){console.error("Error in getFileAnalysis:",e),this.notify.error(this.__("Error happened while analyzing file content"))}finally{this.isGettingSuggestions=this.isGettingSummary=!1,this.running=!1}},initializeContainer(){console.log("Initializing container..."),this.canvasContainer=document.getElementById("pdf-canvas-container"),this.canvasContainer?(console.log("Container found"),this.containerMounted=!0):console.log("Container not found")},async handleFileUpload(t){const e=t.target.files[0];if(e)if(["application/pdf","application/msword","application/vnd.openxmlformats-officedocument.wordprocessingml.document","application/vnd.ms-excel","application/vnd.openxmlformats-officedocument.spreadsheetml.sheet","application/vnd.ms-powerpoint","application/vnd.openxmlformats-officedocument.presentationml.presentation"].includes(e.type)){await this.cleanupResources(),this.newChat(null,"ai_single",b.SHA1("chat_with_file")),this.isLoading=!0,this.error=null,this.fileName=e.name;try{console.log("Loading document file..."),this.isConverting=!e.type.includes("pdf");const t=10485760;if(e.size>t)return void this.notify.error(this.__("File is too large. Please upload a smaller file."));await this.fileProcessor.loadPDF(e),this.isConverting=!1,console.log("Document loaded successfully");const a=this.fileProcessor.getPdfDoc();if(a){let t="";const e=a.numPages,i=Math.ceil(e/5);for(let o=0;o<i;o++){const i=5*o+1,n=Math.min(5*(o+1),e);for(let e=i;e<=n;e++){const i=await a.getPage(e),o=await i.getTextContent(),n=undefined;t+=o.items.map((t=>t.str)).join(" ")+"\n\n",await i.cleanup(),o.items.length=0,Object.keys(o).forEach((t=>{o[t]=null}))}await new Promise((t=>setTimeout(t,0)))}this.pdfContent=t,this.context_data={mode:"chatwithfile",fileName:`${this.fileName} - Chat with File`,contextData:{context:this.pdfContent}}}if(this.totalPages=this.fileProcessor.numPages,console.log("Total pages:",this.totalPages),0===this.totalPages)throw new Error("No pages found in document");this.currentPage=1,this.fileUploaded=!0,await this.renderThumbnailsWithMemoryManagement(),await this.$nextTick(),await this.initializeContainerWithRetry(),await this.getFileAnalysis(),await b.Browser().storage.local.set({current_file_name:e.name}),console.log("Starting page render..."),await this.renderCurrentPage(),console.log("Page rendered successfully")}catch(a){console.error("Error processing file:",a),this.error=a.message||this.__("Error processing file"),await this.cleanupResources()}finally{console.log("Setting isLoading to false"),this.isLoading=!1,this.isConverting=!1;const e=undefined;t.target.value=""}}else this.notify.error(this.__("Please upload a PDF, Word, Excel, or PowerPoint file"))},async renderThumbnailsWithMemoryManagement(){this.thumbnailsLoading=!0,this.thumbnails=[];try{for(let t=1;t<=this.totalPages;t+=5){const e=Math.min(t+5-1,this.totalPages),a=[];for(let i=t;i<=e;i++)a.push(this.fileProcessor.renderPage(i,1,!0).then((t=>{if(t&&t.container){const e=t.container.querySelector("img");e&&(this.thumbnails[i-1]=e.src),t.container.remove()}})));await Promise.all(a),await new Promise((t=>setTimeout(t,0)))}}catch(t){console.error("Error generating thumbnails:",t)}finally{this.thumbnailsLoading=!1}},async initializeContainerWithRetry(t=5,e=100){let a=0;for(;!this.containerMounted&&a<t;)console.log(`Attempt ${a+1} to find container`),this.initializeContainer(),this.containerMounted||await new Promise((t=>setTimeout(t,e))),a++;if(!this.canvasContainer)throw new Error(this.__("PDF viewer container not found after multiple attempts"))},async renderCurrentPage(){if(this.containerMounted||this.initializeContainer(),this.canvasContainer)try{console.log("Rendering page",this.currentPage),this.canvasContainer.innerHTML="";const t=await this.fileProcessor.renderPage(this.currentPage);if(!t||!t.container)throw new Error(this.__("Failed to render PDF page"));this.pdfContainer=t.container;const e=document.createElement("div");e.className="ait-inline-block",e.style.position="relative",e.style.width=`${t.width}px`,e.style.height=`${t.height}px`,t.container.style.width=`${t.width}px`,t.container.style.height=`${t.height}px`,e.appendChild(t.container),this.canvasContainer.appendChild(e);const a=t.container.querySelector(".pdf-text-layer");if(a){a.style.width=`${t.width}px`,a.style.height=`${t.height}px`;const e=this.currentZoom;a.style.transform=`scale(${e})`,a.querySelectorAll("span").forEach((t=>{const a=window.getComputedStyle(t),i=parseFloat(a.fontSize),o=Math.round(i*e*100)/100;t.style.fontSize=`${o}px`;const n=t.textContent||"",s=document.createElement("canvas").getContext("2d");if(s){s.font=`${o}px ${a.fontFamily}`;const e=s.measureText(n);t.style.width=`${e.width}px`;const i=Math.ceil(e.actualBoundingBoxAscent+e.actualBoundingBoxDescent);t.style.height=`${i}px`}}))}console.log("Page rendered successfully")}catch(t){console.error("Error rendering page:",t),this.error=t.message||this.__("Error rendering page"),this.isLoading=!1}else this.error=this.__("PDF viewer container not found")},async nextPage(){this.currentPage<this.totalPages&&(this.currentPage=Math.min(this.totalPages,Number(this.currentPage)+1),await this.renderCurrentPage())},async previousPage(){this.currentPage>1&&(this.currentPage=Math.max(1,Number(this.currentPage)-1),await this.renderCurrentPage())},async setPage(t){t>=1&&t<=this.totalPages&&(this.currentPage=Number(t),await this.renderCurrentPage())},zoomIn(){this.currentZoom=Math.min(3,this.currentZoom+.25),document.documentElement.style.setProperty("--pdf-zoom-level",this.currentZoom)},zoomOut(){this.currentZoom=Math.max(.5,this.currentZoom-.25),document.documentElement.style.setProperty("--pdf-zoom-level",this.currentZoom)},handlePageInput(t){const e=t.target,a=parseInt(e.value);isNaN(a)||(a<1?(e.value="1",this.setPage(1)):a>this.totalPages?(e.value=this.totalPages.toString(),this.setPage(this.totalPages)):this.setPage(a))},handlePageInputChange(t){const e=t.target;e.value||(e.value=this.currentPage.toString()),this.handlePageInput(t)},toggleThumbnails(){this.showThumbnails=!this.showThumbnails,this.canvasContainer&&(this.canvasContainer.className=this.canvasContainer.className.replace(/ait-pl-\d+/,""),this.canvasContainer.classList.add(this.showThumbnails?"ait-pl-28":"ait-pl-4"))},toggleRightPanel(){this.showRightPanel=!this.showRightPanel;const t=this.$el.querySelector(".ait-flex-col");t&&(t.className=t.className.replace(/ait-w-\d+\/\d+/,""),t.classList.add(this.showRightPanel?"ait-w-3/4":"ait-w-full"))}},watch:{currentPage(t,e){console.log("Page changed from",e,"to",t)},fileUploaded(t){t&&this.$nextTick((()=>{this.initializeContainer()}))},isLoading(t){console.log("Loading state changed:",t)}},beforeUnmount(){this.fileProcessor.cleanup()}},W={id:"aitopia-container",class:"full-screen ait-block ait-overflow-y-hidden"},B={class:"ait-h-[var(--ait-height-100)] ait-w-full ait-h-dvh"},G={class:"ait-container ait-align-top ait-container-md lg:ait-p-2 ait-w-full ait-max-w-full ait-h-full"},H={class:"ait-flex ait-flex-row-reverse lg:ait-flex-row ait-h-full"},O={key:0,class:"ait-top-0 ait-left-0 ait-right-0 ait-bg-[var(--ait-option-card-bg-color)] ait-border-b ait-border-[var(--ait-border-color)] ait-rounded-r-none lg:ait-rounded-r-lg ait-rounded-l-lg"},j={class:"ait-flex ait-items-center ait-gap-2 ait-p-4"},q={class:"ait-flex ait-items-center ait-gap-2 ait-ml-auto"},K=["disabled"],V={class:"ait-text-sm ait-text-gray-600"},Y=["disabled"],X={class:"ait-flex ait-items-center ait-gap-2"},J=["disabled"],Q={class:"ait-flex ait-items-center ait-gap-1"},$=["value","max"],tt={class:"ait-text-sm ait-text-gray-600"},et=["disabled"],it={key:1,class:"ait-absolute ait-left-2 ait-top-[76px] ait-bottom-0 ait-w-24 ait-overflow-y-auto ait-border-r ait-border-[var(--ait-border-color)] ait-z-10 ait-bg-[var(--ait-option-card-bg-color)] ait-thumbnail-container ait-hidden lg:ait-block"},at={key:0,class:"ait-p-4 ait-text-center"},ot={key:1,class:"ait-p-2 ait-space-y-2 ait-bg-[var(--ait-option-card-bg-color)] ait-h-full"},nt=["onClick"],st={class:"ait-bg-white ait-p-1 ait-rounded ait-shadow-sm"},rt={class:"ait-text-xs ait-text-gray-700 ait-font-medium ait-mb-1"},lt={class:"thumbnail-container ait-overflow-hidden ait-rounded"},ct=["src"],ht={key:2,class:"ait-absolute ait-inset-0 ait-flex ait-flex-col ait-items-center ait-justify-center ait-bg-[var(--ait-option-card-bg-color)] ait-z-50"},dt={class:"ait-flex ait-flex-col ait-items-center ait-gap-4"},ut={class:"ait-relative"},gt={class:"ait-absolute ait-inset-0 ait-flex ait-items-center ait-justify-center ait-animate-spin"},pt={class:"ait-text-center"},mt={class:"ait-text-lg ait-font-semibold ait-text-white"},ft={class:"ait-text-sm ait-text-gray-500 ait-mt-2"},wt={key:3,class:"ait-inset-0 ait-flex ait-flex-col ait-items-center ait-justify-center ait-p-8"},_t={class:"ait-text-center ait-mb-6"},vt={class:"ait-text-2xl ait-font-semibold ait-mb-2"},yt={class:"ait-text-gray-600"},Pt={key:0,class:"ait-text-red-500 ait-mt-2"},xt={class:"ait-cursor-pointer ait-text-white ait-px-6 ait-py-3 ait-rounded-lg ait-bg-[var(--ait-link-color)] hover:ait-opacity-80 ait-transition-colors"},bt=["accept"],Ct={key:0,class:"ait-w-[1px] ait-h-full ait-bg-[var(--ait-border-color)]"},kt={key:1,class:"ait-w-1/4 ait-bg-[var(--ait-option-card-bg-color)] ait-p-1 lg:ait-p-3 ait-rounded-l-none lg:ait-rounded-r-lg ait-rounded-r-lg"};function St(t,e,i,o,n,s){const r=w("font-awesome-icon"),c=w("HoverPopover"),u=w("svg-logo"),p=w("AppLogo"),f=w("ChatWithFileChatSection"),b=w("make-a-review"),v=w("InviteFriends"),P=w("MakeAReviewModal");return d(),h(F,null,[e[14]||(e[14]=a("link",{href:"https://fonts.googleapis.com/css2?family=Changa:wght@200..800&display=swap",rel:"stylesheet"},null,-1)),a("div",W,[a("div",B,[a("div",G,[a("div",H,[a("div",{class:m(["ait-flex ait-flex-col",[n.showRightPanel&&n.fileUploaded?"ait-w-3/4":"ait-w-full","ait-bg-[var(--ait-option-card-bg-color)]","ait-rounded-l-lg ait-justify-center"]])},[n.fileUploaded&&!n.isLoading?(d(),h("div",O,[a("div",j,[a("button",{onClick:e[0]||(e[0]=(...t)=>s.resetState&&s.resetState(...t)),class:"ait-flex ait-items-center ait-gap-1 ait-text-gray-600 hover:ait-text-gray-800"},[l(r,{icon:"fa-solid fa-arrow-left",class:"ait-w-5 ait-h-5"}),a("span",null,g(n.fileName),1)]),a("div",q,[l(c,{"popover-text":t.__("Hide/Show Thumbnails")},{default:T((()=>[a("button",{onClick:e[1]||(e[1]=(...t)=>s.toggleThumbnails&&s.toggleThumbnails(...t)),class:m(["ait-p-2 ait-rounded hover:ait-bg-[var(--ait-link-color)] ait-text-gray-600",{"ait-bg-[var(--ait-link-color)]":n.showThumbnails}])},[l(r,{icon:"fa-solid fa-align-left",class:"ait-w-5 ait-h-5"})],2)])),_:1},8,["popover-text"]),l(c,{"popover-text":t.__("Hide/Show Sidebar")},{default:T((()=>[a("button",{onClick:e[2]||(e[2]=(...t)=>s.toggleRightPanel&&s.toggleRightPanel(...t)),class:m(["ait-p-2 ait-rounded hover:ait-bg-[var(--ait-link-color)] ait-text-gray-600",{"ait-bg-[var(--ait-link-color)]":n.showRightPanel}])},[l(r,{icon:"fa-solid fa-align-right",class:"ait-w-5 ait-h-5"})],2)])),_:1},8,["popover-text"]),l(c,{"popover-text":t.__("Zoom Out")},{default:T((()=>[a("button",{onClick:e[3]||(e[3]=(...t)=>s.zoomOut&&s.zoomOut(...t)),class:m(["ait-p-2 ait-rounded hover:ait-bg-[var(--ait-link-color)] ait-text-gray-600",{"ait-opacity-50":n.currentZoom<=.5}]),disabled:n.currentZoom<=.5},[l(u,{name:"zoom_out",class:"ait-w-20 ait-h-20"})],10,K)])),_:1},8,["popover-text"]),a("span",V,g(Math.round(100*n.currentZoom))+"%",1),l(c,{"popover-text":t.__("Zoom In")},{default:T((()=>[a("button",{onClick:e[4]||(e[4]=(...t)=>s.zoomIn&&s.zoomIn(...t)),class:m(["ait-p-2 ait-rounded hover:ait-bg-[var(--ait-link-color)] ait-text-gray-600",{"ait-opacity-50":n.currentZoom>=3}]),disabled:n.currentZoom>=3},[l(u,{name:"zoom_in",class:"ait-w-5 ait-h-5"})],10,Y)])),_:1},8,["popover-text"])]),a("div",X,[a("span",{onClick:e[5]||(e[5]=(...t)=>s.previousPage&&s.previousPage(...t)),disabled:1===n.currentPage,class:m(["ait-p-2 hover:ait-bg-[var(--ait-link-color)] ait-rounded ait-cursor-pointer",{"ait-opacity-50 ait-cursor-not-allowed":1===n.currentPage}])},[l(r,{icon:"fa-solid fa-arrow-left",class:"ait-w-5 ait-h-5"})],10,J),a("div",Q,[a("input",{type:"number",value:n.currentPage,onInput:e[6]||(e[6]=(...t)=>s.handlePageInput&&s.handlePageInput(...t)),onChange:e[7]||(e[7]=(...t)=>s.handlePageInputChange&&s.handlePageInputChange(...t)),onBlur:e[8]||(e[8]=(...t)=>s.handlePageInputChange&&s.handlePageInputChange(...t)),class:"ait-w-16 ait-text-center ait-border ait-border-gray-300 ait-rounded ait-px-2 ait-py-1 ait-text-sm focus:ait-outline-none focus:ait-ring-1 focus:ait-ring-[var(--ait-tab-menu-active-bg-color)] input-without-arrows",min:1,max:n.totalPages},null,40,$),a("span",tt,g(t.__("of"))+" "+g(n.totalPages),1)]),a("span",{onClick:e[9]||(e[9]=(...t)=>s.nextPage&&s.nextPage(...t)),disabled:n.currentPage===n.totalPages,class:m(["ait-p-2 hover:ait-bg-[var(--ait-link-color)] ait-rounded ait-cursor-pointer",{"ait-opacity-50 ait-cursor-not-allowed":n.currentPage===n.totalPages}])},[l(r,{icon:"fa-solid fa-arrow-right",class:"ait-w-5 ait-h-5"})],10,et)])])])):y("",!0),n.fileUploaded&&!n.isLoading&&n.showThumbnails?(d(),h("div",it,[n.thumbnailsLoading?(d(),h("div",at,e[11]||(e[11]=[a("div",{class:"ait-animate-spin ait-h-6 ait-w-6 ait-border-2 ait-border-t-transparent ait-rounded-full ait-mx-auto"},null,-1)]))):(d(),h("div",ot,[(d(!0),h(F,null,R(n.thumbnails,((t,e)=>(d(),h("div",{key:e,class:m(["ait-cursor-pointer ait-transition-all ait-duration-200 hover:ait-transform hover:ait-scale-105 ait-rounded-lg",{"ait-ring-4 ait-ring-[var(--ait-tab-menu-active-bg-color)]":n.currentPage===e+1}]),onClick:t=>s.setPage(e+1)},[a("div",st,[a("div",rt,g(e+1),1),a("div",lt,[a("img",{src:t,class:"ait-w-full ait-h-full ait-object-contain",alt:"Page thumbnail"},null,8,ct)])])],10,nt)))),128))]))])):y("",!0),n.isLoading?(d(),h("div",ht,[a("div",dt,[a("div",ut,[e[12]||(e[12]=a("div",{class:"ait-w-16 ait-h-16 ait-border-4 ait-rounded-full"},null,-1)),a("div",gt,[l(p,{class:"ait-w-16 ait-h-16"})])]),a("div",pt,[a("p",mt,g(s.loadingMessage),1),a("p",ft,g(t.__("Please wait while we process your file...")),1)])])])):y("",!0),a("div",{id:"pdf-canvas-container",class:m(["ait-flex-1 ait-overflow-auto ait-p-4 ait-flex ait-justify-center ait-bg-gray-50 ait-pl-28",{"ait-hidden":!n.fileUploaded||n.isLoading}])},null,2),n.fileUploaded||n.isLoading?y("",!0):(d(),h("div",wt,[a("div",_t,[a("h2",vt,g(t.__("Upload Your File")),1),a("p",yt,g(t.__("Select a PDF, Word, Presentation, or Excel file to get started")),1),n.error?(d(),h("p",Pt,g(t.__("Error Occurred While Uploading File")),1)):y("",!0)]),a("label",xt,[A(g(t.__("Choose File"))+" ",1),a("input",{type:"file",accept:s.acceptedFileTypes,class:"ait-hidden",onChange:e[10]||(e[10]=(...t)=>s.handleFileUpload&&s.handleFileUpload(...t))},null,40,bt)])]))],2),n.showRightPanel&&n.fileUploaded?(d(),h("div",Ct)):y("",!0),n.showRightPanel&&n.fileUploaded?(d(),h("div",kt,[l(f,{showUploadAPdf:!1,showReadPage:!1,uploadAnImage:!1,showSuggestions:!1}),l(b),l(v)])):y("",!0)])]),e[13]||(e[13]=a("textarea",{id:"ait_clipboard",style:{position:"fixed",bottom:"-10px","z-index":"-1",height:"1px",width:"1px","font-size":"0.1px"}},null,-1)),l(P)])])],64)}const L=N(Z,[["render",St]]);b.setSidebar("#aitopia-chat-with-file-full-screen","aitopia-chat-with-file"),b.addLoading(),C.template=L,C.methods=U,typeof C.components>"u"&&(C.components=M),C.components=M;var E=window.aiVueApp=I(L,{type:"ChatWithFile"});if(E.mount("#aitopia-chat-with-file"),z){let t=Object.keys(z);t&&t.forEach((t=>{E.component(t,z[t])}))}let Tt=null==document?void 0:document.querySelector("#aitopia-sidebar");b.resizeBorder(Tt,440);